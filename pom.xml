<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
  <modelVersion>4.0.0</modelVersion>
  
  <groupId>uk.ac.rothamsted.knetminer</groupId>
  <artifactId>knetminer-common</artifactId>
  <version>1.0.1-SNAPSHOT</version>
  <packaging>pom</packaging>
  
  <name>knetminer-common (common POM for Knetminer projects)</name>
  
	<properties>
		<!--
			TODO: it will become 11 or more at some point.
			You can override it in your projects.
		-->
		<maven.compiler.source>1.8</maven.compiler.source>
		<maven.compiler.target>${maven.compiler.source}</maven.compiler.target>
		<java.version>${maven.compiler.source}</java.version>
		<project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>
		
		<jutils.version>9.0.1-SNAPSHOT</jutils.version>
		
		<!-- These are defined as properties, so that you can reuse/override them, eg, in a profile -->
		<knetminer.mvnrepo.rel.id>knetminer-releases</knetminer.mvnrepo.rel.id>
		<knetminer.mvnrepo.rel.name>Internal Releases</knetminer.mvnrepo.rel.name>
		<knetminer.mvnrepo.rel.url>https://knetminer.org/artifactory/repository/maven-releases</knetminer.mvnrepo.rel.url>
		
		<knetminer.mvnrepo.snapshots.id>knetminer-snapshots</knetminer.mvnrepo.snapshots.id>
		<knetminer.mvnrepo.snapshots.name>Internal Snapshots</knetminer.mvnrepo.snapshots.name>
		<knetminer.mvnrepo.snapshots.url>https://knetminer.org/artifactory/repository/maven-snapshots</knetminer.mvnrepo.snapshots.url>
			
	</properties>  

	<repositories>
	  <repository>
	  	<!-- 
	  		As usually, this points to both releases and snapshots and caches Maven Central
	  		plus other repos.
	  	 -->
			<id>knetminer-repo</id>
			<name>Knetminer Unified Repository</name>
			<url>https://knetminer.org/artifactory/repository/maven-public</url>
			<snapshots><enabled>true</enabled></snapshots>
			<releases><enabled>true</enabled></releases>
	  </repository>
	</repositories>
	
	<pluginRepositories>
		<pluginRepository>
			<id>knetminer-plugin-repo</id>
			<name>Knetminer Unified Repository</name>
			<url>https://knetminer.org/artifactory/repository/maven-public</url>
			<snapshots><enabled>true</enabled></snapshots>
			<releases><enabled>true</enabled></releases>
		</pluginRepository>
	</pluginRepositories>
	
	<distributionManagement>
				
	  <repository>
			<id>${knetminer.mvnrepo.rel.id}</id>
			<name>${knetminer.mvnrepo.rel.name}</name>
			<url>${knetminer.mvnrepo.rel.url}</url>
	  </repository>
	  <snapshotRepository>
			<id>${knetminer.mvnrepo.snapshots.id}</id>
			<name>${knetminer.mvnrepo.snapshots.name}</name>
			<url>${knetminer.mvnrepo.snapshots.url}</url>
	  </snapshotRepository>
	</distributionManagement>				


	<!-- 
		These are general packages, which are in use in multiple projects and typically
		require that their dependency is updated simultaneously.
		
		If you choose to depend on this packages (ie, you name them in your descendant POM, without
		assigning a version, you've to accept that versions are auto-updated when this POM is updated. 
	-->
	<dependencyManagement>
		<dependencies>
		
			<dependency>
				<groupId>uk.ac.ebi</groupId>
				<artifactId>jutils</artifactId>
				<version>${jutils.version}</version>
			</dependency>
			
			<dependency>
				<groupId>uk.ac.ebi</groupId>
				<artifactId>jutils-io</artifactId>
				<version>${jutils.version}</version>
			</dependency>
			
		  <dependency>
		    <groupId>junit</groupId>
		    <artifactId>junit</artifactId>
		    <version>4.13</version>
		    <scope>test</scope>
		  </dependency>
			
			<dependency>
      	<groupId>org.apache.logging.log4j</groupId>
      	<artifactId>log4j-bom</artifactId>
      	<version>2.13.1</version>
      	<scope>import</scope>
      	<type>pom</type>
    	</dependency>
    	
		  <!-- You need this if you want to YAML-config log4j2 -->
			<dependency>
				<groupId>com.fasterxml.jackson.dataformat</groupId>
				<artifactId>jackson-dataformat-yaml</artifactId>
				<version>2.10.2</version>
			</dependency>
			<dependency>
			  <groupId>com.fasterxml.jackson.core</groupId>
			  <artifactId>jackson-databind</artifactId>
			  <version>2.10.2</version>
			</dependency>
			
		</dependencies>	
	</dependencyManagement>
	
	<build>
		<!-- See the notes above about <dependencyManagement> -->
		<pluginManagement>
		</pluginManagement>
	</build>
		
	<modules>
			<module>knetminer-archetype</module>
	</modules>
</project>
